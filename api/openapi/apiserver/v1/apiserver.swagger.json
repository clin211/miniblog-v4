{
  "swagger": "2.0",
  "info": {
    "title": "Blog Service API v1",
    "description": "Blog 服务提供文章、分类、标签、评论、用户等模块的 RESTful API：\n- 用户认证与权限控制\n- 文章发布、编辑、删除、草稿与置顶\n- 分类与标签管理（创建、修改、归类）\n- 评论与回复、点赞与收藏\n- 搜索与筛选（按作者、标签、时间范围）\n- 附件/图片上传与资源管理\n- 通知与订阅\n- 管理后台与审计日志",
    "version": "1.0",
    "contact": {
      "name": "miniblog-v4 项目",
      "url": "https://github.com/clin211/miniblog-v4",
      "email": "767425412lin@gmail.com"
    }
  },
  "tags": [
    {
      "name": "BlogService"
    }
  ],
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/healthz": {
      "get": {
        "summary": "健康检查",
        "description": "检查服务是否健康运行",
        "operationId": "BlogService_Healthz",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1HealthzResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "服务治理"
        ]
      }
    },
    "/v1/users": {
      "get": {
        "summary": "列表用户",
        "description": "获取所有用户的列表",
        "operationId": "BlogService_ListUsers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "offset",
            "description": "offset 表示偏移量\n@gotags: form:\"offset\"",
            "in": "query",
            "required": false,
            "type": "string",
            "format": "int64"
          },
          {
            "name": "limit",
            "description": "limit 表示每页数量\n@gotags: form:\"limit\"",
            "in": "query",
            "required": false,
            "type": "string",
            "format": "int64"
          }
        ],
        "tags": [
          "用户管理"
        ]
      },
      "post": {
        "summary": "创建用户",
        "description": "创建一个新的用户",
        "operationId": "BlogService_CreateUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1CreateUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1CreateUserRequest"
            }
          }
        ],
        "tags": [
          "用户管理"
        ]
      }
    },
    "/v1/users/{userID}": {
      "get": {
        "summary": "获取用户",
        "description": "根据用户 ID 获取用户信息",
        "operationId": "BlogService_GetUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userID",
            "description": "userID 表示用户 ID\n@gotags: uri:\"userID\"",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "用户管理"
        ]
      },
      "delete": {
        "summary": "删除用户",
        "description": "根据用户 ID 删除用户",
        "operationId": "BlogService_DeleteUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1DeleteUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userID",
            "description": "userID 表示用户 ID\n@gotags: uri:\"userID\"",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "用户管理"
        ]
      },
      "put": {
        "summary": "更新用户",
        "description": "根据用户 ID 更新用户信息",
        "operationId": "BlogService_UpdateUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1UpdateUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "userID",
            "description": "userID 表示用户 ID",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/BlogServiceUpdateUserBody"
            }
          }
        ],
        "tags": [
          "用户管理"
        ]
      }
    }
  },
  "definitions": {
    "BlogServiceUpdateUserBody": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string",
          "title": "username 表示可选的用户名称"
        },
        "nickname": {
          "type": "string",
          "title": "nickname 表示可选的用户昵称"
        },
        "email": {
          "type": "string",
          "title": "email 表示可选的用户电子邮箱"
        },
        "phone": {
          "type": "string",
          "title": "phone 表示可选的用户手机号"
        }
      },
      "title": "UpdateUserRequest 表示更新用户请求"
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1CreateUserRequest": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string",
          "title": "username 表示用户名称"
        },
        "password": {
          "type": "string",
          "title": "password 表示用户密码"
        },
        "nickname": {
          "type": "string",
          "title": "nickname 表示用户昵称"
        },
        "email": {
          "type": "string",
          "title": "email 表示用户电子邮箱"
        },
        "phone": {
          "type": "string",
          "title": "phone 表示用户手机号"
        }
      },
      "title": "CreateUserRequest 表示创建用户请求"
    },
    "v1CreateUserResponse": {
      "type": "object",
      "properties": {
        "userID": {
          "type": "string",
          "title": "userID 表示新创建的用户 ID"
        }
      },
      "title": "CreateUserResponse 表示创建用户响应"
    },
    "v1DeleteUserResponse": {
      "type": "object",
      "title": "DeleteUserResponse 表示删除用户响应"
    },
    "v1GetUserResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/v1User",
          "title": "user 表示返回的用户信息"
        }
      },
      "title": "GetUserResponse 表示获取用户响应"
    },
    "v1HealthzResponse": {
      "type": "object",
      "properties": {
        "status": {
          "$ref": "#/definitions/v1ServiceStatus",
          "description": "status represents the health status of the service."
        },
        "timestamp": {
          "type": "string",
          "description": "timestamp represents the timestamp of the request."
        },
        "message": {
          "type": "string",
          "description": "message represents an optional status message, providing additional\ninformation about the service's health."
        },
        "version": {
          "type": "string",
          "description": "version represents the version of the service."
        }
      },
      "description": "HealthzResponse represents the response structure for a health check."
    },
    "v1ListUserResponse": {
      "type": "object",
      "properties": {
        "totalCount": {
          "type": "string",
          "format": "int64",
          "title": "totalCount 表示总用户数"
        },
        "users": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1User"
          },
          "title": "users 表示用户列表"
        }
      },
      "title": "ListUserResponse 表示用户列表响应"
    },
    "v1ServiceStatus": {
      "type": "string",
      "enum": [
        "Healthy",
        "Unhealthy"
      ],
      "default": "Healthy",
      "description": "ServiceStatus represents the health status of the service.\n\n - Healthy: Healthy indicates that the service is healthy.\n - Unhealthy: Unhealthy indicates that the service is unhealthy."
    },
    "v1UpdateUserResponse": {
      "type": "object",
      "title": "UpdateUserResponse 表示更新用户响应"
    },
    "v1User": {
      "type": "object",
      "properties": {
        "userID": {
          "type": "string",
          "title": "userID 表示用户 ID"
        },
        "username": {
          "type": "string",
          "title": "username 表示用户名称"
        },
        "nickname": {
          "type": "string",
          "title": "nickname 表示用户昵称"
        },
        "email": {
          "type": "string",
          "title": "email 表示用户电子邮箱"
        },
        "phone": {
          "type": "string",
          "title": "phone 表示用户手机号"
        },
        "postCount": {
          "type": "string",
          "format": "int64",
          "title": "postCount 表示用户拥有的博客数量"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "title": "createdAt 表示用户注册时间"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "title": "updatedAt 表示用户最后更新时间"
        }
      },
      "title": "User 表示用户信息"
    }
  }
}
